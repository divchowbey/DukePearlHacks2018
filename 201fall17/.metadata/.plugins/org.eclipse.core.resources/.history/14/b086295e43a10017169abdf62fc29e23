import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.TreeMap;

public class ServiceNames {
	public String[] makeList(String[] services) {
	   
		TreeMap <String, String> mine = new TreeMap<>(); 
       for (String a: services) {
        String [] myArray  = a.split(" "); 
        String bioservice = myArray[0];
        if(myArray.length>1) {
        for(int i = 1; i<myArray.length; i++) {
        	if(!mine.containsKey(myArray[i])) { 
        	mine.put(myArray[i], bioservice); //put first occurrence of kindOfInput in map
        	} 
        	else {
        		String edit = arrangeEnds(mine.get(myArray[i]), bioservice);
        		mine.put(myArray[i], edit); 
        		
        	}
        }
        }
       }
       String [] ret = returner(mine); 
      
       return ret; 
    }
	
	public String arrangeEnds (String put, String all) {
		System.out.print(all + "+" + put+"," );
		
		ArrayList<String> myList = new ArrayList<String>(Arrays.asList(all.split(","))); 
		System.out.print("$" +myList+ "$");
		myList.add(put);
		String [] myarr = myList.toArray(new String[myList.size()]); 
		Arrays.sort(myarr);
		System.out.print("{"); 
		for(String a: myarr) {
			System.out.print(a);
		}
		System.out.print("}");
		String myret ="";
		for(int i = 0; i<myarr.length; i++) {
			myret += myarr[i] + ", "; 
		}
		String newer = myret.substring(0, myret.length()-2); 
		String editor = newer.replaceAll(" ", ""); 
		String edited = editor.replaceAll(",", ", ");
		System.out.print("["+edited+"]");
		return edited; 
		
		
		
	}

	
	public String [] returner (TreeMap<String, String> converter) {
		String [] ret = new String[converter.size()]; 
		int i =0; 
		for (Map.Entry<String, String> entry : converter.entrySet()) {
			if (i<ret.length) {
				ret [i] = entry.getKey() + " ==> " + entry.getValue(); 
				i++; 
			}
			
			
		}
		return ret; 
		
	}
	
	
}
